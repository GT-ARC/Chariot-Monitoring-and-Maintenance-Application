<div id="property-bundle-head">
  <mat-icon
    (click)="open = !open"
    class="sort-arrow">{{open ? 'keyboard_arrow_down' : 'keyboard_arrow_right'}}</mat-icon>
  <div id="property-bundle-name">
    {{ this.property ? property.name == undefined ? property.key : property.name : "Properties"}}
  </div>
  <button
    *ngIf="this.property != undefined"
    id="property-bundle-button"
    mat-raised-button
    color="primary"
    (click)="send()">Send Data</button>
</div>

<div
  *ngIf="open"
  gdAlignColumns="start start"

  gdAreas="{{currentArea}}"
  gdColumns="calc((1/6)% - 16px) calc((1/6)% - 16px) calc((1/6)% - 16px) calc((1/6)% - 16px) calc((1/6)% - 16px) calc((1/6)% - 16px)"

  gdAuto="row"
  gdGap="16px">

  <div [ngSwitch]="property['type'].toLocaleLowerCase()"
       *ngFor="let property of propertyBundle.properties; let i = index"
       gdArea="a{{i}}">

    <app-device-panel-switch
      (click)="selectedProperty = property; selectedPropertyEvent.emit({selectedProperty: property})"
      *ngSwitchCase="'boolean'"
      [property]="property"
      [selectedProperty]="selectedProperty">
    </app-device-panel-switch>

    <app-device-panel-slider
      (click)="selectedProperty = property; selectedPropertyEvent.emit({selectedProperty: property})"
      *ngSwitchCase="'number'"
      [property]="property"
      [selectedProperty]="selectedProperty">
    </app-device-panel-slider>

    <app-device-panel-text-field
      *ngSwitchCase="'string'"
      [property]="property">
    </app-device-panel-text-field>
  </div>
</div>
